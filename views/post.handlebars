<main class='container mx-auto flex flex-col'>
  <div
    class='block w-full mb-2 p-4 bg-white border border-gray-200 rounded-lg'
    data-post-id={{post.id}}
  >
    <h2 class='mb-2 text-2xl font-bold text-gray-900 dark:text-white'>
      {{post.title}}
    </h2>
    <p class='mb-2 font-normal text-gray-700'>
      {{post.content}}
    </p>
    <p class='italic text-sm'>Posted by
      {{post.user.username}}
      on
      {{post.createdAt}}</p>
  </div>
  {{#each post.comments as |comment|}}
    <div
      class='block w-full mb-2 p-4 bg-white border border-gray-200 rounded-lg'
    >
      <p class='mb-2 font-normal text-gray-700'>
        {{comment.content}}
      </p>
      <p class='italic text-sm'>-
        {{comment.user.username}}
        {{comment.createdAt}}</p>
    </div>
  {{/each}}
  {{#if loggedIn}}
    <form class='mt-2'>
      <div class='mb-2'>
        <label
          for='message'
          class='block mb-2 text-sm font-medium text-gray-900 dark:text-white'
        >Add comment</label>
        <textarea
          id='commentTextarea'
          required
          rows='4'
          class='block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500'
          placeholder='Leave a comment...'
        ></textarea>
      </div>
      <button
        type='submit'
        id='commentBtn'
        class='text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800'
      >
        Submit
      </button>
    </form>
  {{/if}}
</main>
<script src='/js/comment.js'></script>